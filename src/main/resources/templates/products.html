<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layouts/defaultTemplate">
<!--  layout:decorate="layouts/defaultTemplate"  -->
	<head>
		<meta charset="UTF-8" />
		<title>Products</title>
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="description" content=""/>
		<link rel="stylesheet" th:href="@{/css/styles.css}" />
	</head>

	<body style="margin-top:5%; background-color: lightgray"> 
		<div layout:fragment="content">
			<div class="container" style="margin:10px 10px; display:flex; justify-content: center; flex-wrap: wrap; gap: 2.5rem;">
				<div th:if="${products.empty}">
					<p style="text-align:center"> No orders available </p>
				</div>
				<div class="card" style="width: 18rem" th:each="product : ${products}" th:id="${product.id}">
					<a th:href="@{/products/displayItem/{productId}(productId=${product.id})}" class="btn btn-secondary">	
						<img th:if="${product.image != ''}" th:src="${product.image}" class="card-img-top" alt="product" style="width: 100%; height: 100%; object-fit: cover">
						<img th:if="${product.image == ''}" th:src="@{/images/placeholder.png}" class="card-img-top" alt="product" style="width: 100%; height: 100%; object-fit: cover">
					</a>
					<div class="card-body">
 					<h4 class="card-title" th:text="${product.name}">Name</h4> 
 					<!-- <h5 class="card-title" th:text="${product.description}">Description</h5>  -->
 					<ul class="list-group list-group-flush">
 						<li class="list-group-item"></li>
 						<li class="list-group-item" th:text="'Year: ' + ${product.year}">Year</li>
 						<li class="list-group-item" th:text="'Price: $' + ${product.price}">Price</li>
						<!--
							<li class="list-group-item" th:text="'Seller: ' + ${product.createdBy}">Seller</li>
	 						<li th:if="${product.createdBy == user}" class="list-group-item"></li>
	 						<li class="list-group-item" th:text="'Phone: ' + ${product.phone}">phone</li>
	 						<li class="list-group-item" th:text="'Email: ' + ${product.email}">Email</li>
	 						<li class="list-group-item" th:text="'Price: ' + ${product.otherContacts}">Other Contacts</li>
	 					 -->
 					</ul>
 					<!-- 
 	    			<form th:if="${product.createdBy == user}" th:action="@{'/products/deleteProduct/' + ${product.id}}" method="post" style="display: flex; justify-content: space-around; width: 100%">
  						<a th:href="@{/products/editProduct/{productId}(productId=${product.id})}" class="btn btn-secondary" role="button">Edit</a>
 						<button type="submit" class="btn btn-danger" th:action="@{'/products/deleteProduct/' + ${product.id}}" >Delete</button>
 					</form>
 				-->
					</div>
				</div>
			</div>
			<!-- 
			<div class="container text-center">
				<a href="/products/newProduct" class="btn btn-primary" role="button">New Product</a>
			</div>
			-->
		</div>
	<body/>
</html>